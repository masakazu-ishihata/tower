#!/usr/bin/env ruby
# -*- coding: utf-8 -*-

################################################################################
# default
################################################################################
@x = 2
@y = 2
@n = 2

################################################################################
# Arguments
################################################################################
require "optparse"
OptionParser.new { |opts|
  # options
  opts.on("-h","--help","Show this message") {
    puts opts
    exit
  }
  opts.on("-x [INPUT]"){ |f|
    @x = f.to_i
  }
  opts.on("-y [INPUT]"){ |f|
    @y = f.to_i
  }
  opts.on("-n [INPUT]"){ |f|
    @n = f.to_i
  }
  # parse
  opts.parse!(ARGV)
}

################################################################################
# タワー記号
################################################################################
def tower(x, y, n)
  n == 1 ? x ** y : (y == 1 ? x : tower(x, tower(x, y-1, n), n-1))
end

################################################################################
# main
################################################################################
puts "#{@x} #{Array.new(@n){|i| "↑"}.join} #{@y} = #{tower(@x, @y, @n)}"
